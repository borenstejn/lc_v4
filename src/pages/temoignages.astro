---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Stats from '~/components/widgets/Stats.astro';
import Modal from '~/components/ui/Modal.astro';
import TestimonialCard from '~/components/widgets/TestimonialCard.astro';

const metadata = {
  title: 'TÃ©moignages Clients - Transformations RÃ©elles | Laure Cohen Coaching',
  description: 'DÃ©couvrez les tÃ©moignages authentiques de nos clients : Ã©tudiants, professionnels, entrepreneurs. +200 transformations rÃ©ussies avec photos rÃ©elles.',
};

// Fonction pour tronquer le texte pour l'affichage dans les cards
function truncateText(text: string, maxLength: number = 150): string {
  if (text.length <= maxLength) return text;
  return text.substring(0, maxLength).trim() + '...';
}

// Fonction pour dÃ©terminer la catÃ©gorie d'un tÃ©moignage
function getTestimonialCategory(job: string, name: string): string {
  const jobLower = job.toLowerCase();
  const nameLower = name.toLowerCase();
  
  // CatÃ©gorie AcadÃ©mique
  if (jobLower.includes('Ã©tudiant') || jobLower.includes('master') || jobLower.includes('hec') || 
      jobLower.includes('soutenance') || jobLower.includes('mÃ©moire') || jobLower.includes('audio-prothÃ¨se')) {
    return 'academique';
  }
  
  // CatÃ©gorie Entrepreneur
  if (jobLower.includes('fondateur') || jobLower.includes('ceo') || jobLower.includes('entrepreneur') ||
      jobLower.includes('start-up') || jobLower.includes('kidiwe') || jobLower.includes('harmony') ||
      jobLower.includes('jared') || jobLower.includes('windoo') || jobLower.includes('coalitions')) {
    return 'entrepreneur';
  }
  
  // CatÃ©gorie Ã‰loquence
  if (jobLower.includes('Ã©loquence') || jobLower.includes('concours') || nameLower.includes('diariata') ||
      jobLower.includes('rÃ©sonantes') || jobLower.includes('fondation des femmes')) {
    return 'eloquence';
  }
  
  // CatÃ©gorie Professionnelle (par dÃ©faut)
  return 'professionnel';
}

// TÃ©moignages complets (textes entiers du site original)
const testimonialData = {
  tabatha: {
    full: `Un immense merci Ã  Laure qui grÃ¢ce Ã  2 sÃ©ances de coaching a rÃ©ussi Ã  donner une valeur inestimable Ã  ma soutenance de mÃ©moire. Je lui dois une grande partie de ma mention trÃ¨s bien.

L'avis de sa maman : "ChÃ¨re Laure, vous Ãªtes tout simplement formidable ! En 2 sÃ©ances d'accompagnement vous avez transformÃ© Tabatha en vraie Â« pitcheuse Â». Et Ã§a a Ã©tÃ© un incroyable succÃ¨sâ€¦ Mention trÃ¨s bien Ã  son oral ! Nous vous remercions sincÃ¨rement pour votre aide, votre implication et un grand bravo pour votre capacitÃ© Ã  transmettre votre art car c'est un artâ€¦ je parle beaucoup de vous autour de moiâ€¦ au plaisir de vous recroiser."`,
    name: 'Tabatha Deray',
    job: 'Ã‰tudiante Audio-ProthÃ¨se - Mention TrÃ¨s Bien',
    image: 'tabatha_deray.jpg'
  },
  clara: {
    full: `PrÃ©paration des entretiens d'admissions Ã  H.E.C. L'expÃ©rience m'a non seulement permis d'atteindre mon objectif, mais m'a aussi apportÃ© des clefs essentielles pour l'avenir. J'ai appris Ã  accepter mon stress, Ã  m'exprimer de maniÃ¨re claire, concise et convaincante en utilisant mes propres mots et mes propres gestes. J'ai pris confiance en moi, en mes propos et en ma capacitÃ© Ã  les communiquer. Mon retour sur cette expÃ©rience est excellent !`,
    name: 'Clara Touboul',
    job: 'Ã‰tudiante - Admise HEC',
    image: 'clara_touboul.jpg'
  },
  emilie: {
    full: `J'ai fait appel Ã  Laure pour refaire mon pitch et avoir un pitch impactant, pour prÃ©senter mon centre Ã  mes futurs clients. Laure a Ã©tÃ© trÃ¨s Ã  l'Ã©coute lorsque je lui ai prÃ©sentÃ© mon activitÃ© et ma problÃ©matique, elle m'a posÃ© les bonnes questions, ce qui lui a permis, en quelques minutes seulement de comprendre parfaitement ce que je proposais et le rÃ©sultat que je souhaitais obtenir. Force de proposition, crÃ©ative, dynamique et surtout trÃ¨s douÃ©e en art oratoire, Laure m'a permis d'avoir LE pitch parfait !`,
    name: 'Ã‰milie Fajnman',
    job: 'Directrice Centre BeautÃ© "Metamorph\'ose"',
    image: 'emilie_fajnman.jpg'
  },
  jesse: {
    full: `Ã€ la veille d'un rendez-vous trÃ¨s important et hyper anxiogÃ¨ne, j'ai eu le besoin de me faire coacher. Laure a rebootÃ© mon cerveau en une sÃ©ance ! Elle a su me donner les clÃ©s pour reprendre le contrÃ´le, me recentrer sur mes objectifs et mes atouts quelque peu oubliÃ©s. Cela m'a surtout permis d'aborder les choses plus sereinement, avec objectivitÃ© et confiance. Merci Laure, j'ai d'ailleurs signÃ© un beau contrat !`,
    name: 'Jesse Levy',
    job: 'ComÃ©dienne - Contrat SignÃ©',
    image: 'jesse_levy.jpg'
  },
  philippe: {
    full: `Dans le cadre d'une mission avec Time to pitch, j'ai rencontrÃ© Laure. Le coaching de dirigeants est un exercice subtil qui demande de nombreuses qualitÃ©s : l'Ã©coute, la capacitÃ© de comprendre la personnalitÃ© de chacun, de son environnement, et bien sÃ»r de la technique ! Laure, tout en dÃ©contraction, avec bonne humeur et dynamisme a compris tout cela. Elle sait vous faire sortir de votre zone de confort, vous provoquer parfois mais surtout vous permettre de donner le meilleur, d'Ãªtre vous-mÃªme et par lÃ , d'Ãªtre le plus convaincant ! Merci sincÃ¨rement Laure pour la richesse de tes conseils et l'Ã©tat d'esprit positif que tu sais propager autour de toi.`,
    name: 'Philippe Jeanneau',
    job: 'Directeur GÃ©nÃ©ral Informatique CDC',
    image: 'philippe_jeanneau.png'
  },
  justine: {
    full: `Quand tout paraÃ®t compliquÃ© et insurmontable, quelque soit le domaine, pro ou perso, une seule personne parvient Ã  me faire avancer, Laure. Tout devient simple et tout se fait simplement, une discussion, de l'Ã©coute, des Ã©changes, une liste et une progression rÃ©aliste, aucune pression, des objectifs simples pour y voir plus clair. ÃŠtre coachÃ©e par elle, c'est se rÃ©vÃ©ler Ã  soi, s'estimer, se faire confiance et enfin, avancer. Laure c'est la lumiÃ¨re, qui donne espoir.`,
    name: 'Justine FraÃ¯oli',
    job: 'Productrice - Confiance RetrouvÃ©e',
    image: 'justine_fraoli.jpg'
  },
  mickael: {
    full: `Le travail avec Laure a Ã©tÃ© un vrai tournant dans l'aventure KIDIWE, il nous a permis de convaincre des investisseurs et de lever des fonds. J'ai eu la chance de travailler avec elle pour un problÃ¨me de pitch. Je me souviens trÃ¨s bien de notre premiÃ¨re rencontre. Elle m'a demandÃ© ce que je faisais dans la vie. Ma rÃ©ponse a durÃ© environ... 2 ans et demi... juste pour lui expliquer mon activitÃ©. Et Laure m'a dit : "en fait, tu mets en relation 2 mondes : le Tourisme & le Scolaire Ã  travers une plateforme web, c'est Ã§a ? La mission de ta boÃ®te : rendre accessible Ã  tous les Ã©lÃ¨ves, le monde qui les entoure ?" Dossier rÃ©glÃ© en moins d'une minute ! Son travail ne s'est pas arrÃªtÃ© lÃ , elle m'a montrÃ© comment rÃ©ussir Ã  dire ce qu'on veut dire et Ã  convaincre, grÃ¢ce Ã  ses techniques bien Ã  elle et simples Ã  reproduire. Elle m'a donnÃ© toutes les clÃ©s d'une bonne communication orale.`,
    name: 'MickaÃ«l Kissous',
    job: 'Fondateur KIDIWE - LevÃ©e de Fonds RÃ©ussie',
    image: 'mickael_kissous.jpg'
  },
  clement: {
    full: `Laure a une grande expÃ©rience dans la prise de parole et dans l'Ã©criture, elle avait le profil que je recherchais pour travailler sur mon discours. L'objectif Ã©tait de trouver les mots et la faÃ§on de parler de mon activitÃ© pour un public non initiÃ©. Nous avons eu deux sessions de travail. D'abord nous avons revu les bases d'un bon pitch, ce fut essentiel pour pouvoir ensuite construire le mien pour Harmony. Laure a de grandes qualitÃ©s d'Ã©coute et de synthÃ¨se, grÃ¢ce Ã  elles, nous avons rapidement trouvÃ© la construction du discours et les formulations de phrase qui permettaient de transmettre des messages forts. Je recommande vivement son coaching.`,
    name: 'ClÃ©ment Sornin',
    job: 'Entrepreneur - Fondateur CEO "Harmony"',
    image: 'clement_sornin.jpg'
  },
  alexi: {
    full: `J'ai fait appel Ã  Laure dans le but d'amÃ©liorer mes prises de paroles et de parfaire l'exercice difficile du "pitch" de start-up. L'objectif principal Ã©tait de construire le pitch de ma start-up, permettant une prÃ©sentation claire de notre problÃ©matique, notre produit, notre marchÃ©, notre Ã©quipe... Mais l'accompagnement de Laure est allÃ© bien au delÃ  de cet exercice. Nous avons Ã  la fois travaillÃ© sur la structure de la prise de parole, adaptÃ©e Ã  diffÃ©rents formats (interview, prÃ©sentation, pitch), mais aussi la gestion du stress, le vocabulaire, la posture, les gestes. Laure propose une approche holistique qui ne laisse rien au hasard, et utilise ses compÃ©tences acquises au travers de ses diffÃ©rentes expÃ©riences pour faire ressortir le meilleur de nous mÃªme. Sans aucun doute, la meilleure coach que j'ai rencontrÃ©.`,
    name: 'Alexi Perrino',
    job: 'Entrepreneur - Fondateur CEO "Jared"',
    image: 'alexi_perrino.jpg'
  },
  diariata: {
    full: `Laure Cohen est la seule Coach en qui a su et qui sait m'accompagner dans mes prises de paroles importantes. Son Ã©coute et sa capacitÃ© Ã  mettre en confiance permet de travailler rapidement et de faÃ§on efficace. Elle a su me convaincre et me pousser dans mes retranchements en douceur pour un rÃ©sultat extraordinaire en peu de temps. Depuis notre premiÃ¨re collaboration, je ne fais appel qu'Ã  elle et je la remercie de mettre Ã  mon service son expertise pour me rendre convaincante et opÃ©rationnelle. Son accompagnement lors du concours d'Ã©loquence de la Fondation des Femmes en est la preuve. Vous pouvez compter sur elle en toute confiance !`,
    name: 'Diariata N\'Diaye',
    job: 'PrÃ©sidente "RÃ©sonantes" - Concours Ã‰loquence RemportÃ©',
    image: 'diariata_ndiaye.jpg'
  },
  sarah: {
    full: `J'ai travaillÃ© avec Laure sur "comment bien dÃ©livrer mon message" dans le cadre d'une interview tÃ©lÃ©. Le dÃ©fi Ã©tait d'avoir le plus d'impact possible en trois minutes, un temps rÃ©duit pour tout ce que j'avais Ã  dire. Elle m'a challengÃ©e, aussi bien sur le fond que sur la forme, avec beaucoup de crÃ©ativitÃ© et de professionnalisme. Le rÃ©sultat a Ã©tÃ© un grand succÃ¨s et j'ai hÃ¢te de retravailler avec elle.`,
    name: 'Sarah Ohayon',
    job: 'Partner JAB - Interview TÃ©lÃ© RÃ©ussie',
    image: 'sarah_ohayon.jpg'
  },
  eric: {
    full: `Riche de ses multiples vies, Laure apporte toujours beaucoup plus que ce qui Ã©tait prÃ©vu, Ã  ceux et celles qu'elle accompagne. Cette expÃ©rience/expertise, boostÃ©e par un engagement et une bienveillance absolue, font d'elle une coach formidable.`,
    name: 'Eric Salomon',
    job: 'Fondateur et PrÃ©sident Time to Pitch',
    image: 'eric_salomon.png'
  },
  laetitia: {
    full: `Mon expÃ©rience avec Laure a Ã©tÃ© excellente ! Je l'ai contactÃ©e pour prÃ©parer mon passage devant un jury (soutenance pour l'obtention d'un Master 2). Dans un temps limitÃ©, mon objectif Ã©tait de mettre en avant mon travail et surtout mon identitÃ© professionnelle et de valider mes acquis. Je ne parvenais pas Ã  rendre fluide ma prÃ©sentation d'un dossier que je maÃ®trisais pourtant parfaitement. Le stress et l'anxiÃ©tÃ© Ã  l'idÃ©e de prendre la parole devant un jury m'empÃªchaient de me prÃ©parer correctement. Avec mÃ©thodologie, sincÃ©ritÃ©, beaucoup d'humour et une grande gÃ©nÃ©rositÃ©, Laure m'a donnÃ© les outils qui m'ont permis de me recentrer sur l'essentiel, structurer ma prise de parole et lui donner un rythme. J'ai su embarquer mon auditoire jusqu'au bout sans les perdre et sans me perdre ! Est ce que je vous recommande cette coach ? Oui, c'est sÃ»r !`,
    name: 'Laetitia Mabed',
    job: 'Directrice Comptable - Master 2 ValidÃ©',
    image: 'laetitia_mabed.png'
  },
  sylvie: {
    full: `Je suis crÃ©atrice de bijoux, j'ai contactÃ© Laure aprÃ¨s une confÃ©rence qu'elle donnait pour Â« Potentiel de Femmes Â». Je voulais clarifier mon storytelling et refaire mon site internet. Nous avons largement atteint cet objectif. Une sÃ©ance riche d'enseignements : Une vision sur ce que je veux faire, des objectifs clairs. Je recommande c'est sÃ»r !`,
    name: 'Sylvie Uzan',
    job: 'CrÃ©atrice Bijoux "Atelier JAGG"',
    image: 'sylvie_uzan.png'
  },
  arnaud: {
    full: `Laure excelle dans le coaching grÃ¢ce Ã  un dynamisme incroyable et une capacitÃ© d'adaptation hors-pair. Nous travaillons avec elle depuis plusieurs annÃ©es et elle continue de nous surprendre par son style unique, associÃ© Ã  un professionnalisme Ã  toute Ã©preuve!`,
    name: 'Arnaud Varnier',
    job: 'Fondateur et PrÃ©sident WINDOO',
    image: 'arnaud_varnier.png'
  },
  flora: {
    full: `Laure a compris une clÃ© essentielle en coaching : comprendre son interlocuteur et l'aider Ã  faire ressortir le meilleur de sa personnalitÃ©. Sans jamais travestir, elle permet de s'Ã©manciper et d'adopter une libertÃ© de parole impactante et percutante. Elle donne du sens et de l'impact au discours. Elle m'a accompagnÃ© Ã  toutes les Ã©tapes importantes : lancement de mon entreprise, sortie de mon livre, pour me permettre de prendre du recul sur mes projets, pour mieux les prÃ©senter et convaincre !`,
    name: 'Flora Ghebali',
    job: 'Fondatrice Coalitions',
    image: 'flora_ghebali.jpg'
  },
  hela: {
    full: `Il y a un avant et un aprÃ¨s ma rencontre et mon travail avec Laure. PrÃ©cise, sensible et hyper pro, Laure m'a partagÃ© des outils et une mÃ©thode, en lien avec mes besoins, qui ont radicalement et structurellement modifiÃ© ma maniÃ¨re d'apprÃ©hender la prise de parole en public, mais pas que !! Laure est une femme fabuleuse.`,
    name: 'Hela Daboussi',
    job: 'Cadre du Secteur Public',
    image: 'hela_daboussi.jpg'
  },
  mickael_z: {
    full: `Je suis quelqu'un d'assez angoissÃ©, souvent paralysÃ©, ce qui m'a beaucoup empÃªchÃ© de m'engager dans des directions ou mÃªme de simplement lÃ¢cher prise. J'ai rÃ©alisÃ© avec Laure un travail en profondeur oÃ¹ elle a su identifier avec justesse les verrous qui me bloquaient. Elle m'a activement soutenu dans les moments difficiles et m'a aidÃ©, petit Ã  petit, Ã  dÃ©passer certaines peurs et Ã  les comprendre. Aujourd'hui la vie me semble largement plus simple. Un travail bien fait, Ã  deux !`,
    name: 'MickaÃ«l Zaluski',
    job: 'RÃ©alisateur - Producteur - Dentiste',
    image: 'mickael_zaluski.jpg'
  },
  diane: {
    full: `Laure a Ã©tÃ© vÃ©ritablement mon Ã©coute et surtout sincÃ¨rement investie dans mon dÃ©veloppement personnel, prenant des nouvelles de mon Ã©volution rÃ©guliÃ¨rement. Elle sait avoir les mots justes pour nous encourager et nous faire avancer sur tous les tableaux. Nos quelques sÃ©ances m'ont fait beaucoup Ã©voluer. Elle est d'une grande intelligence et trÃ¨s expÃ©rimentÃ©e, elle cerne le cÅ“ur du problÃ¨me trÃ¨s vite et on fait des pas de gÃ©ants. Elle a participÃ© Ã  me redonner confiance en ma singularitÃ©, Ã  impulser le courage nÃ©cessaire pour m'investir dans un travail Â« hors des sentiers battus Â» dans lequel je m'Ã©panouis totalement aujourd'hui. Merci Ã  elle ! C'est une vraie chance de l'avoir croisÃ©e...`,
    name: 'Diane Bismuth',
    job: 'Journaliste Gastronomique',
    image: 'diane_bismuth.jpg'
  },
  helene: {
    full: `J'ai le plaisir de travailler avec Laure depuis plus d'un an dans le cadre des formations qu'elle anime pour TIME TO PITCH au sein de Sciences Po Executive Education : Pitch et Ã©loquence. Laure est une professionnelle rigoureuse, enthousiaste, engagÃ©e et trÃ¨s Ã  l'Ã©coute des apprenants. Que ce soit en prÃ©sentiel ou Ã  distance, la satisfaction est toujours au top ! Merci Laure.`,
    name: 'HÃ©lÃ¨ne Tinlot-Benichou',
    job: 'Responsable Communication Sciences Po Executive Education',
    image: 'helene_tinlot_benichou.jpg'
  },
  clemence: {
    full: `J'ai eu la chance de dÃ©couvrir qu'il existait une solution Ã  mes angoissesâ€¦ il n'a fallu que quelques sÃ©ances avec Laure pour qu'elle m'offre l'espace de m'exprimer et de lui expliquer mes failles d'Ã©locution. Je parle vite, je suis timide, j'ai peur de ne pas Ãªtre pertinenteâ€¦ Elle a su me mettre en confiance et m'aider Ã  assumer mes points de vue, pour la prÃ©sentation d'une fondation que je devais exposer Ã  une assemblÃ©e de plus de 150 personnes. Nous avons analysÃ© ensemble mon projet, mon audience et le ton Ã  prendre pour capter leur attention face au sujet qui me tient le plus Ã  cÅ“ur, celui du rÃ©chauffement climatique ! J'Ã©tais tout de mÃªme stressÃ©e le jour de ma prÃ©sentation, mais j'ai appris que le stress peut Ãªtre gÃ©rÃ© et devenir un atout dans une prÃ©paration Ã  un tel Ã©vÃ©nement personnel :) Projet rÃ©ussi ! GrÃ¢ce au discours minutieusement prÃ©parÃ© j'ai pu faire passer mon message et l'assemblÃ©e a adhÃ©rÃ© au projet. Merci encore Ã  Laure pour ses conseils.`,
    name: 'ClÃ©mence M.',
    job: 'Fondatrice Association Environnementale',
    image: 'clemence_m.jpg'
  }
};

// Convertir testimonialData en array avec catÃ©gories et structure pour TestimonialCard
const testimonialArray = Object.entries(testimonialData).map(([id, data]) => ({
  id,
  name: data.name,
  role: data.job,
  category: getTestimonialCategory(data.job, data.name),
  image: data.image,
  testimonial: data.full,
  result: data.job.includes(' - ') ? data.job.split(' - ')[1] : undefined,
}));

const testimonialsByCategory = {
  academique: testimonialArray.filter(t => t.category === 'academique'),
  professionnel: testimonialArray.filter(t => t.category === 'professionnel'),
  entrepreneur: testimonialArray.filter(t => t.category === 'entrepreneur'),
  eloquence: testimonialArray.filter(t => t.category === 'eloquence'),
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'RÃ©server ma sÃ©ance gratuite',
        href: '/contact',
        icon: 'tabler:calendar',
      },
      { 
        text: 'Voir toutes les rÃ©ussites', 
        href: '#temoignages-complets',
        icon: 'tabler:arrow-down',
      },
    ]}
    image={{ 
      src: '/images/temoignages/jesse_levy.jpg', 
      alt: 'Jesse Levy - TÃ©moignage client Laure Cohen' 
    }}
  >
    <Fragment slot="title">
      <span class="text-accent">+200 transformations</span> authentiques avec <span class="text-primary">photos rÃ©elles</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span class="font-semibold text-lg">DÃ©couvrez les vraies histoires de nos clients</span>
      <br class="hidden sm:block" />
      <span class="block mt-2 text-muted">
        Ã‰tudiants, professionnels, entrepreneurs : ils ont tous transformÃ© leur peur en force
      </span>
    </Fragment>
  </Hero>

  <!-- Stats Widget ****************** -->

  <Stats
    title="Impact rÃ©el, rÃ©sultats mesurables"
    subtitle="Des chiffres qui parlent d'eux-mÃªmes"
    stats={[
      { title: 'Clients transformÃ©s', amount: '200+' },
      { title: 'RÃ©ussite aux oraux', amount: '100%' },
      { title: 'Satisfaction client', amount: '98%' },
      { title: 'AnnÃ©es d\'expÃ©rience', amount: '8' },
    ]}
  />

  <!-- Testimonials Widget - RÃ©ussites AcadÃ©miques *************** -->

  <Testimonials
    id="temoignages-academiques"
    title="ðŸŽ“ RÃ©ussites AcadÃ©miques"
    subtitle="Ã‰tudiants : de la peur Ã  l'excellence - Soutenances, concours, oraux rÃ©ussis avec brio"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.tabatha.full),
        fullTestimonial: testimonialData.tabatha.full,
        name: testimonialData.tabatha.name,
        job: testimonialData.tabatha.job,
        image: {
          src: `/images/temoignages/${testimonialData.tabatha.image}`,
          alt: 'Tabatha Deray - Mention trÃ¨s bien'
        },
      },
      {
        testimonial: truncateText(testimonialData.clara.full),
        fullTestimonial: testimonialData.clara.full,
        name: testimonialData.clara.name,
        job: testimonialData.clara.job,
        image: {
          src: `/images/temoignages/${testimonialData.clara.image}`,
          alt: 'Clara Touboul - Admise HEC'
        },
      },
      {
        testimonial: truncateText(testimonialData.emilie.full),
        fullTestimonial: testimonialData.emilie.full,
        name: testimonialData.emilie.name,
        job: testimonialData.emilie.job,
        image: {
          src: `/images/temoignages/${testimonialData.emilie.image}`,
          alt: 'Ã‰milie Fajnman - Coaching Ã©tudiant'
        },
      },
      {
        testimonial: truncateText(testimonialData.laetitia.full),
        fullTestimonial: testimonialData.laetitia.full,
        name: testimonialData.laetitia.name,
        job: testimonialData.laetitia.job,
        image: {
          src: `/images/temoignages/${testimonialData.laetitia.image}`,
          alt: 'Laetitia Mabed - Master 2'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - SuccÃ¨s Professionnels *************** -->

  <Testimonials
    id="temoignages-professionnels"
    title="ðŸ’¼ SuccÃ¨s Professionnels"
    subtitle="Managers, dirigeants, collaborateurs : ils ont dÃ©veloppÃ© leur leadership et impact"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.jesse.full),
        fullTestimonial: testimonialData.jesse.full,
        name: testimonialData.jesse.name,
        job: testimonialData.jesse.job,
        image: {
          src: `/images/temoignages/${testimonialData.jesse.image}`,
          alt: 'Jesse Levy - ComÃ©dienne'
        },
      },
      {
        testimonial: truncateText(testimonialData.philippe.full),
        fullTestimonial: testimonialData.philippe.full,
        name: testimonialData.philippe.name,
        job: testimonialData.philippe.job,
        image: {
          src: `/images/temoignages/${testimonialData.philippe.image}`,
          alt: 'Philippe Jeanneau - Dirigeant'
        },
      },
      {
        testimonial: truncateText(testimonialData.justine.full),
        fullTestimonial: testimonialData.justine.full,
        name: testimonialData.justine.name,
        job: testimonialData.justine.job,
        image: {
          src: `/images/temoignages/${testimonialData.justine.image}`,
          alt: 'Justine FraÃ¯oli - Confiance retrouvÃ©e'
        },
      },
      {
        testimonial: truncateText(testimonialData.sarah.full),
        fullTestimonial: testimonialData.sarah.full,
        name: testimonialData.sarah.name,
        job: testimonialData.sarah.job,
        image: {
          src: `/images/temoignages/${testimonialData.sarah.image}`,
          alt: 'Sarah Ohayon - Interview tÃ©lÃ©'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Entrepreneurs *************** -->

  <Testimonials
    id="temoignages-entrepreneurs"
    title="ðŸš€ Entrepreneurs : Pitch et Conviction"
    subtitle="Startups, scale-ups : ils ont convaincu investisseurs et clients avec leurs levÃ©es de fonds"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.mickael.full),
        fullTestimonial: testimonialData.mickael.full,
        name: testimonialData.mickael.name,
        job: testimonialData.mickael.job,
        image: {
          src: `/images/temoignages/${testimonialData.mickael.image}`,
          alt: 'MickaÃ«l Kissous - LevÃ©e de fonds KIDIWE'
        },
      },
      {
        testimonial: truncateText(testimonialData.clement.full),
        fullTestimonial: testimonialData.clement.full,
        name: testimonialData.clement.name,
        job: testimonialData.clement.job,
        image: {
          src: `/images/temoignages/${testimonialData.clement.image}`,
          alt: 'ClÃ©ment Sornin - Pitch Harmony'
        },
      },
      {
        testimonial: truncateText(testimonialData.alexi.full),
        fullTestimonial: testimonialData.alexi.full,
        name: testimonialData.alexi.name,
        job: testimonialData.alexi.job,
        image: {
          src: `/images/temoignages/${testimonialData.alexi.image}`,
          alt: 'Alexi Perrino - Pitch entrepreneur'
        },
      },
      {
        testimonial: truncateText(testimonialData.flora.full),
        fullTestimonial: testimonialData.flora.full,
        name: testimonialData.flora.name,
        job: testimonialData.flora.job,
        image: {
          src: `/images/temoignages/${testimonialData.flora.image}`,
          alt: 'Flora Ghebali - Fondatrice'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Concours et Ã‰loquence *************** -->

  <Testimonials
    id="temoignages-eloquence"
    title="ðŸ† Concours et Ã‰loquence"
    subtitle="Ils ont remportÃ© des concours et dÃ©veloppÃ© leur Ã©loquence avec brio"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.diariata.full),
        fullTestimonial: testimonialData.diariata.full,
        name: testimonialData.diariata.name,
        job: testimonialData.diariata.job,
        image: {
          src: `/images/temoignages/${testimonialData.diariata.image}`,
          alt: 'Diariata N\'Diaye - Concours Ã©loquence'
        },
      },
      {
        testimonial: truncateText(testimonialData.eric.full),
        fullTestimonial: testimonialData.eric.full,
        name: testimonialData.eric.name,
        job: testimonialData.eric.job,
        image: {
          src: `/images/temoignages/${testimonialData.eric.image}`,
          alt: 'Eric Salomon - CEO'
        },
      },
      {
        testimonial: truncateText(testimonialData.helene.full),
        fullTestimonial: testimonialData.helene.full,
        name: testimonialData.helene.name,
        job: testimonialData.helene.job,
        image: {
          src: `/images/temoignages/${testimonialData.helene.image}`,
          alt: 'HÃ©lÃ¨ne Tinlot-Benichou - Sciences Po'
        },
      },
      {
        testimonial: truncateText(testimonialData.clemence.full),
        fullTestimonial: testimonialData.clemence.full,
        name: testimonialData.clemence.name,
        job: testimonialData.clemence.job,
        image: {
          src: `/images/temoignages/${testimonialData.clemence.image}`,
          alt: 'ClÃ©mence M. - Fondatrice'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Parcours Inspirants *************** -->

  <Testimonials
    id="autres-temoignages"
    title="ðŸŒŸ Parcours Inspirants"
    subtitle="Artistes, managers, reconversions : chaque histoire est unique et transformatrice"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.sylvie.full),
        fullTestimonial: testimonialData.sylvie.full,
        name: testimonialData.sylvie.name,
        job: testimonialData.sylvie.job,
        image: {
          src: `/images/temoignages/${testimonialData.sylvie.image}`,
          alt: 'Sylvie Uzan - Reconversion'
        },
      },
      {
        testimonial: truncateText(testimonialData.arnaud.full),
        fullTestimonial: testimonialData.arnaud.full,
        name: testimonialData.arnaud.name,
        job: testimonialData.arnaud.job,
        image: {
          src: `/images/temoignages/${testimonialData.arnaud.image}`,
          alt: 'Arnaud Varnier - Fondateur'
        },
      },
      {
        testimonial: truncateText(testimonialData.diane.full),
        fullTestimonial: testimonialData.diane.full,
        name: testimonialData.diane.name,
        job: testimonialData.diane.job,
        image: {
          src: `/images/temoignages/${testimonialData.diane.image}`,
          alt: 'Diane Bismuth - Journaliste'
        },
      },
      {
        testimonial: truncateText(testimonialData.mickael_z.full),
        fullTestimonial: testimonialData.mickael_z.full,
        name: testimonialData.mickael_z.name,
        job: testimonialData.mickael_z.job,
        image: {
          src: `/images/temoignages/${testimonialData.mickael_z.image}`,
          alt: 'MickaÃ«l Zaluski - RÃ©alisateur'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - DÃ©veloppement Personnel *************** -->

  <Testimonials
    id="temoignages-personnel"
    title="ðŸ’« DÃ©veloppement Personnel"
    subtitle="Ils ont surmontÃ© leurs blocages et retrouvÃ© confiance en eux"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.hela.full),
        fullTestimonial: testimonialData.hela.full,
        name: testimonialData.hela.name,
        job: testimonialData.hela.job,
        image: {
          src: `/images/temoignages/${testimonialData.hela.image}`,
          alt: 'Hela Daboussi - Transformation'
        },
      },
    ]}
  />

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Rejoindre ces success stories',
        href: '/contact',
        icon: 'tabler:star',
      },
      {
        text: 'DÃ©couvrir la mÃ©thode',
        href: '/demo',
        icon: 'tabler:circle',
      },
    ]}
  >
    <Fragment slot="title">
      PrÃªt Ã  <span class="text-accent">transformer</span> votre peur en <span class="text-primary">force</span> ?
    </Fragment>

    <Fragment slot="subtitle">
      Rejoignez les +200 clients qui ont dÃ©jÃ  transformÃ© leur prise de parole.
      <br class="hidden md:inline" />
      Votre sÃ©ance dÃ©couverte gratuite vous attend.
    </Fragment>
  </CallToAction>

  <!-- TÃ©moignages par CatÃ©gorie avec Tabs -->
  <section class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          TÃ©moignages par Domaine
        </h2>
        <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
          Cliquez sur chaque tÃ©moignage pour dÃ©couvrir l'histoire complÃ¨te de transformation
        </p>
      </div>

      <!-- Tabs Navigation -->
      <div class="flex flex-wrap justify-center mb-8 border-b border-gray-200 dark:border-gray-700">
        <button class="tab-button active px-6 py-3 font-medium text-blue-600 border-b-2 border-blue-600" data-tab="academique">
          ðŸŽ“ RÃ©ussites AcadÃ©miques
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="professionnel">
          ðŸ’¼ SuccÃ¨s Professionnels
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="entrepreneur">
          ðŸš€ Entrepreneurs
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="eloquence">
          ðŸŽ¤ Ã‰loquence
        </button>
      </div>

      <!-- Tab Content -->
      <div id="academique" class="tab-content active">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.academique.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="professionnel" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.professionnel.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="entrepreneur" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.entrepreneur.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="eloquence" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.eloquence.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Modal pour afficher le tÃ©moignage complet -->
  <Modal id="testimonial">
    <div class="flex flex-col md:flex-row gap-6">
      <!-- Photo du client en grand -->
      <div class="md:w-1/3">
        <div class="relative w-full aspect-square rounded-lg overflow-hidden">
          <img
            id="testimonial-modal-image"
            src=""
            alt=""
            class="w-full h-full object-cover"
          />
        </div>
        <div class="mt-4 text-center">
          <h4 id="testimonial-modal-name" class="text-xl font-semibold text-gray-900 dark:text-white"></h4>
          <p id="testimonial-modal-role" class="text-gray-600 dark:text-gray-400"></p>
          <p id="testimonial-modal-result" class="text-blue-600 dark:text-blue-400 font-medium mt-1"></p>
          <p id="testimonial-modal-location" class="text-sm text-gray-500 dark:text-gray-500 mt-1"></p>
          <p id="testimonial-modal-date" class="text-sm text-gray-500 dark:text-gray-500"></p>
        </div>
      </div>
      
      <!-- TÃ©moignage complet -->
      <div class="md:w-2/3">
        <blockquote id="testimonial-modal-testimonial" class="text-lg text-gray-700 dark:text-gray-300 italic leading-relaxed">
          <!-- Le tÃ©moignage complet sera insÃ©rÃ© ici -->
        </blockquote>
      </div>
    </div>
  </Modal>
</Layout>

<script>
  // Gestion des tabs et modal
  document.addEventListener('DOMContentLoaded', () => {
    console.log('ðŸ“„ Page tÃ©moignages: DOM loaded');
    
    // === GESTION DES TABS ===
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetTab = button.getAttribute('data-tab');
        if (!targetTab) return;
        
        // DÃ©sactiver tous les tabs
        tabButtons.forEach(btn => {
          btn.classList.remove('active', 'text-blue-600', 'border-blue-600');
          btn.classList.add('text-gray-500', 'border-transparent');
        });
        
        tabContents.forEach(content => {
          content.classList.add('hidden');
          content.classList.remove('active');
        });
        
        // Activer le tab sÃ©lectionnÃ©
        button.classList.add('active', 'text-blue-600', 'border-blue-600');
        button.classList.remove('text-gray-500', 'border-transparent');
        
        const targetContent = document.getElementById(targetTab);
        if (targetContent) {
          targetContent.classList.remove('hidden');
          targetContent.classList.add('active');
        }
        
        // Reconfigurer les handlers aprÃ¨s changement de tab
        setTimeout(() => setupModalTriggers(), 100);
      });
    });
    
    // === GESTION DE LA MODAL ===
    function openTestimonialModal(data) {
      console.log('ðŸ”„ Opening modal with data:', data);
      
      // Attendre que la modal soit initialisÃ©e
      const maxAttempts = 10;
      let attempts = 0;
      
      function tryOpenModal() {
        attempts++;
        
        // MÃ©thode 1: Utiliser la fonction globale si disponible
        if ((window as any).openTestimonialModal && typeof (window as any).openTestimonialModal === 'function') {
          console.log('âœ… Using global function');
          
          // Mettre Ã  jour le contenu
          updateModalContent(data);
          
          // Ouvrir la modal
          (window as any).openTestimonialModal();
          return;
        }
        
        // MÃ©thode 2: Manipulation directe du DOM
        const backdrop = document.getElementById('testimonial-backdrop');
        const content = document.getElementById('testimonial-content');
        
        if (backdrop && content) {
          console.log('âœ… Using direct DOM manipulation');
          
          // Mettre Ã  jour le contenu
          updateModalContent(data);
          
          // Ouvrir la modal
          backdrop.classList.remove('hidden');
          backdrop.offsetHeight; // Force reflow
          backdrop.classList.remove('opacity-0');
          content.classList.remove('scale-95');
          content.classList.add('scale-100');
          document.body.style.overflow = 'hidden';
          return;
        }
        
        // RÃ©essayer si pas encore prÃªt
        if (attempts < maxAttempts) {
          console.log(`â³ Attempt ${attempts}/${maxAttempts} - Retrying...`);
          setTimeout(tryOpenModal, 100);
        } else {
          console.error('âŒ Failed to open modal after', maxAttempts, 'attempts');
        }
      }
      
      tryOpenModal();
    }
    
    function updateModalContent(data) {
      // Mettre Ã  jour le contenu de la modal
      const modalTitle = document.getElementById('testimonial-title');
      const modalImage = document.getElementById('testimonial-modal-image') as HTMLImageElement;
      const modalName = document.getElementById('testimonial-modal-name');
      const modalRole = document.getElementById('testimonial-modal-role');
      const modalResult = document.getElementById('testimonial-modal-result');
      const modalTestimonial = document.getElementById('testimonial-modal-testimonial');

      if (modalTitle) modalTitle.textContent = `TÃ©moignage de ${data.name}`;
      if (modalImage && data.image) {
        modalImage.src = `/images/temoignages/${data.image}`;
        modalImage.alt = `Photo de ${data.name}`;
      }
      if (modalName) modalName.textContent = data.name || '';
      if (modalRole) modalRole.textContent = data.role || '';
      if (modalResult) {
        if (data.result) {
          modalResult.textContent = data.result;
          modalResult.style.display = 'block';
        } else {
          modalResult.style.display = 'none';
        }
      }
      if (modalTestimonial) modalTestimonial.textContent = `"${data.testimonial}"`;
    }
    
    // === GESTION DES CLICS SUR CARTES ET BOUTONS ===
    function setupModalTriggers() {
      console.log('ðŸ”§ Setting up modal triggers...');
      
      // 1. GÃ©rer les cartes testimonial-card (widgets du haut)
      const testimonialCards = document.querySelectorAll('.testimonial-card');
      console.log('ðŸ“‹ Found testimonial cards:', testimonialCards.length);
      
      testimonialCards.forEach((card, index) => {
        const clickHandler = (e: Event) => {
          e.preventDefault();
          e.stopPropagation();
          console.log(`ðŸ–±ï¸ Card ${index + 1} clicked`);
          
          const data = {
            id: card.getAttribute('data-testimonial-id'),
            name: card.getAttribute('data-testimonial-name'),
            role: card.getAttribute('data-testimonial-role'),
            result: card.getAttribute('data-testimonial-result'),
            image: card.getAttribute('data-testimonial-image'),
            testimonial: card.getAttribute('data-testimonial-text')
          };
          
          console.log('ðŸ“Š Card data:', data);
          openTestimonialModal(data);
        };
        
        // Supprimer les anciens handlers s'ils existent
        if ((card as any)._clickHandler) {
          card.removeEventListener('click', (card as any)._clickHandler);
          card.removeEventListener('touchend', (card as any)._clickHandler);
        }
        
        // Ajouter les nouveaux handlers pour desktop et mobile
        (card as any)._clickHandler = clickHandler;
        card.addEventListener('click', clickHandler);
        card.addEventListener('touchend', clickHandler); // Pour mobile
        
        // AmÃ©liorer l'accessibilitÃ© mobile
        (card as HTMLElement).style.cursor = 'pointer';
        (card as HTMLElement).style.setProperty('-webkit-tap-highlight-color', 'rgba(0,0,0,0.1)');
      });
      
      // 2. GÃ©rer les boutons testimonial-btn (TestimonialCard du bas)
      const testimonialButtons = document.querySelectorAll('.testimonial-btn');
      console.log('ðŸ”˜ Found testimonial buttons:', testimonialButtons.length);
      
      testimonialButtons.forEach((button, index) => {
        const clickHandler = (e: Event) => {
          e.preventDefault();
          e.stopPropagation();
          console.log(`ðŸ–±ï¸ Button ${index + 1} clicked`);
          
          const data = {
            id: button.getAttribute('data-testimonial-id'),
            name: button.getAttribute('data-testimonial-name'),
            role: button.getAttribute('data-testimonial-role'),
            result: button.getAttribute('data-testimonial-result'),
            image: button.getAttribute('data-testimonial-image'),
            testimonial: button.getAttribute('data-testimonial-text')
          };
          
          console.log('ðŸ“Š Button data:', data);
          openTestimonialModal(data);
        };
        
        // Supprimer les anciens handlers s'ils existent
        if ((button as any)._clickHandler) {
          button.removeEventListener('click', (button as any)._clickHandler);
          button.removeEventListener('touchend', (button as any)._clickHandler);
        }
        
        // Ajouter les nouveaux handlers pour desktop et mobile
        (button as any)._clickHandler = clickHandler;
        button.addEventListener('click', clickHandler);
        button.addEventListener('touchend', clickHandler); // Pour mobile
        
        // AmÃ©liorer l'accessibilitÃ© mobile
        (button as HTMLElement).style.cursor = 'pointer';
        (button as HTMLElement).style.setProperty('-webkit-tap-highlight-color', 'rgba(0,0,0,0.1)');
      });
      
      console.log('âœ… Modal triggers setup complete');
    }
    
    // Configuration initiale
    setupModalTriggers();
    
    // Reconfigurer aprÃ¨s changement de contenu dynamique
    const observer = new MutationObserver(() => {
      setupModalTriggers();
    });
    
    observer.observe(document.body, {
      childList: true,
      subtree: true
    });
    
    // Exposer la fonction globalement pour compatibilitÃ©
    (window as any).openTestimonialModalWithData = openTestimonialModal;
    
    console.log('ðŸŽ‰ Page tÃ©moignages: Initialization complete');
  });
</script>

<style>
  .tab-button {
    transition: all 0.3s ease;
  }
  
  .tab-content {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Mobile touch optimizations */
  .testimonial-card,
  .testimonial-btn {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    touch-action: manipulation;
    cursor: pointer;
  }
  
  @media (max-width: 768px) {
    .testimonial-card {
      min-height: 44px; /* Minimum touch target size */
    }
    
    .testimonial-btn {
      min-height: 44px;
      padding: 0.75rem 1rem;
    }
    
    .tab-button {
      min-height: 44px;
      padding: 0.75rem 1rem;
    }
  }
</style> 