---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Stats from '~/components/widgets/Stats.astro';
import Modal from '~/components/ui/Modal.astro';
import TestimonialCard from '~/components/widgets/TestimonialCard.astro';

const metadata = {
  title: 'T√©moignages Clients - Transformations R√©elles | Laure Cohen Coaching',
  description: 'D√©couvrez les t√©moignages authentiques de nos clients : √©tudiants, professionnels, entrepreneurs. +200 transformations r√©ussies avec photos r√©elles.',
};

// Fonction pour tronquer le texte pour l'affichage dans les cards
function truncateText(text: string, maxLength: number = 150): string {
  if (text.length <= maxLength) return text;
  return text.substring(0, maxLength).trim() + '...';
}

// Fonction pour d√©terminer la cat√©gorie d'un t√©moignage
function getTestimonialCategory(job: string, name: string): string {
  const jobLower = job.toLowerCase();
  const nameLower = name.toLowerCase();
  
  // Cat√©gorie Acad√©mique
  if (jobLower.includes('√©tudiant') || jobLower.includes('master') || jobLower.includes('hec') || 
      jobLower.includes('soutenance') || jobLower.includes('m√©moire') || jobLower.includes('audio-proth√®se')) {
    return 'academique';
  }
  
  // Cat√©gorie Entrepreneur
  if (jobLower.includes('fondateur') || jobLower.includes('ceo') || jobLower.includes('entrepreneur') ||
      jobLower.includes('start-up') || jobLower.includes('kidiwe') || jobLower.includes('harmony') ||
      jobLower.includes('jared') || jobLower.includes('windoo') || jobLower.includes('coalitions')) {
    return 'entrepreneur';
  }
  
  // Cat√©gorie √âloquence
  if (jobLower.includes('√©loquence') || jobLower.includes('concours') || nameLower.includes('diariata') ||
      jobLower.includes('r√©sonantes') || jobLower.includes('fondation des femmes')) {
    return 'eloquence';
  }
  
  // Cat√©gorie Professionnelle (par d√©faut)
  return 'professionnel';
}

// T√©moignages complets (textes entiers du site original)
const testimonialData = {
  tabatha: {
    full: `Un immense merci √† Laure qui gr√¢ce √† 2 s√©ances de coaching a r√©ussi √† donner une valeur inestimable √† ma soutenance de m√©moire. Je lui dois une grande partie de ma mention tr√®s bien.

L'avis de sa maman : "Ch√®re Laure, vous √™tes tout simplement formidable ! En 2 s√©ances d'accompagnement vous avez transform√© Tabatha en vraie ¬´ pitcheuse ¬ª. Et √ßa a √©t√© un incroyable succ√®s‚Ä¶ Mention tr√®s bien √† son oral ! Nous vous remercions sinc√®rement pour votre aide, votre implication et un grand bravo pour votre capacit√© √† transmettre votre art car c'est un art‚Ä¶ je parle beaucoup de vous autour de moi‚Ä¶ au plaisir de vous recroiser."`,
    name: 'Tabatha Deray',
    job: '√âtudiante Audio-Proth√®se - Mention Tr√®s Bien',
    image: 'tabatha_deray.jpg'
  },
  clara: {
    full: `Pr√©paration des entretiens d'admissions √† H.E.C. L'exp√©rience m'a non seulement permis d'atteindre mon objectif, mais m'a aussi apport√© des clefs essentielles pour l'avenir. J'ai appris √† accepter mon stress, √† m'exprimer de mani√®re claire, concise et convaincante en utilisant mes propres mots et mes propres gestes. J'ai pris confiance en moi, en mes propos et en ma capacit√© √† les communiquer. Mon retour sur cette exp√©rience est excellent !`,
    name: 'Clara Touboul',
    job: '√âtudiante - Admise HEC',
    image: 'clara_touboul.jpg'
  },
  emilie: {
    full: `J'ai fait appel √† Laure pour refaire mon pitch et avoir un pitch impactant, pour pr√©senter mon centre √† mes futurs clients. Laure a √©t√© tr√®s √† l'√©coute lorsque je lui ai pr√©sent√© mon activit√© et ma probl√©matique, elle m'a pos√© les bonnes questions, ce qui lui a permis, en quelques minutes seulement de comprendre parfaitement ce que je proposais et le r√©sultat que je souhaitais obtenir. Force de proposition, cr√©ative, dynamique et surtout tr√®s dou√©e en art oratoire, Laure m'a permis d'avoir LE pitch parfait !`,
    name: '√âmilie Fajnman',
    job: 'Directrice Centre Beaut√© "Metamorph\'ose"',
    image: 'emilie_fajnman.jpg'
  },
  jesse: {
    full: `√Ä la veille d'un rendez-vous tr√®s important et hyper anxiog√®ne, j'ai eu le besoin de me faire coacher. Laure a reboot√© mon cerveau en une s√©ance ! Elle a su me donner les cl√©s pour reprendre le contr√¥le, me recentrer sur mes objectifs et mes atouts quelque peu oubli√©s. Cela m'a surtout permis d'aborder les choses plus sereinement, avec objectivit√© et confiance. Merci Laure, j'ai d'ailleurs sign√© un beau contrat !`,
    name: 'Jesse Levy',
    job: 'Com√©dienne - Contrat Sign√©',
    image: 'jesse_levy.jpg'
  },
  philippe: {
    full: `Dans le cadre d'une mission avec Time to pitch, j'ai rencontr√© Laure. Le coaching de dirigeants est un exercice subtil qui demande de nombreuses qualit√©s : l'√©coute, la capacit√© de comprendre la personnalit√© de chacun, de son environnement, et bien s√ªr de la technique ! Laure, tout en d√©contraction, avec bonne humeur et dynamisme a compris tout cela. Elle sait vous faire sortir de votre zone de confort, vous provoquer parfois mais surtout vous permettre de donner le meilleur, d'√™tre vous-m√™me et par l√†, d'√™tre le plus convaincant ! Merci sinc√®rement Laure pour la richesse de tes conseils et l'√©tat d'esprit positif que tu sais propager autour de toi.`,
    name: 'Philippe Jeanneau',
    job: 'Directeur G√©n√©ral Informatique CDC',
    image: 'philippe_jeanneau.png'
  },
  justine: {
    full: `Quand tout para√Æt compliqu√© et insurmontable, quelque soit le domaine, pro ou perso, une seule personne parvient √† me faire avancer, Laure. Tout devient simple et tout se fait simplement, une discussion, de l'√©coute, des √©changes, une liste et une progression r√©aliste, aucune pression, des objectifs simples pour y voir plus clair. √ätre coach√©e par elle, c'est se r√©v√©ler √† soi, s'estimer, se faire confiance et enfin, avancer. Laure c'est la lumi√®re, qui donne espoir.`,
    name: 'Justine Fra√Øoli',
    job: 'Productrice - Confiance Retrouv√©e',
    image: 'justine_fraoli.jpg'
  },
  mickael: {
    full: `Le travail avec Laure a √©t√© un vrai tournant dans l'aventure KIDIWE, il nous a permis de convaincre des investisseurs et de lever des fonds. J'ai eu la chance de travailler avec elle pour un probl√®me de pitch. Je me souviens tr√®s bien de notre premi√®re rencontre. Elle m'a demand√© ce que je faisais dans la vie. Ma r√©ponse a dur√© environ... 2 ans et demi... juste pour lui expliquer mon activit√©. Et Laure m'a dit : "en fait, tu mets en relation 2 mondes : le Tourisme & le Scolaire √† travers une plateforme web, c'est √ßa ? La mission de ta bo√Æte : rendre accessible √† tous les √©l√®ves, le monde qui les entoure ?" Dossier r√©gl√© en moins d'une minute ! Son travail ne s'est pas arr√™t√© l√†, elle m'a montr√© comment r√©ussir √† dire ce qu'on veut dire et √† convaincre, gr√¢ce √† ses techniques bien √† elle et simples √† reproduire. Elle m'a donn√© toutes les cl√©s d'une bonne communication orale.`,
    name: 'Micka√´l Kissous',
    job: 'Fondateur KIDIWE - Lev√©e de Fonds R√©ussie',
    image: 'mickael_kissous.jpg'
  },
  clement: {
    full: `Laure a une grande exp√©rience dans la prise de parole et dans l'√©criture, elle avait le profil que je recherchais pour travailler sur mon discours. L'objectif √©tait de trouver les mots et la fa√ßon de parler de mon activit√© pour un public non initi√©. Nous avons eu deux sessions de travail. D'abord nous avons revu les bases d'un bon pitch, ce fut essentiel pour pouvoir ensuite construire le mien pour Harmony. Laure a de grandes qualit√©s d'√©coute et de synth√®se, gr√¢ce √† elles, nous avons rapidement trouv√© la construction du discours et les formulations de phrase qui permettaient de transmettre des messages forts. Je recommande vivement son coaching.`,
    name: 'Cl√©ment Sornin',
    job: 'Entrepreneur - Fondateur CEO "Harmony"',
    image: 'clement_sornin.jpg'
  },
  alexi: {
    full: `J'ai fait appel √† Laure dans le but d'am√©liorer mes prises de paroles et de parfaire l'exercice difficile du "pitch" de start-up. L'objectif principal √©tait de construire le pitch de ma start-up, permettant une pr√©sentation claire de notre probl√©matique, notre produit, notre march√©, notre √©quipe... Mais l'accompagnement de Laure est all√© bien au del√† de cet exercice. Nous avons √† la fois travaill√© sur la structure de la prise de parole, adapt√©e √† diff√©rents formats (interview, pr√©sentation, pitch), mais aussi la gestion du stress, le vocabulaire, la posture, les gestes. Laure propose une approche holistique qui ne laisse rien au hasard, et utilise ses comp√©tences acquises au travers de ses diff√©rentes exp√©riences pour faire ressortir le meilleur de nous m√™me. Sans aucun doute, la meilleure coach que j'ai rencontr√©.`,
    name: 'Alexi Perrino',
    job: 'Entrepreneur - Fondateur CEO "Jared"',
    image: 'alexi_perrino.jpg'
  },
  diariata: {
    full: `Laure Cohen est la seule Coach en qui a su et qui sait m'accompagner dans mes prises de paroles importantes. Son √©coute et sa capacit√© √† mettre en confiance permet de travailler rapidement et de fa√ßon efficace. Elle a su me convaincre et me pousser dans mes retranchements en douceur pour un r√©sultat extraordinaire en peu de temps. Depuis notre premi√®re collaboration, je ne fais appel qu'√† elle et je la remercie de mettre √† mon service son expertise pour me rendre convaincante et op√©rationnelle. Son accompagnement lors du concours d'√©loquence de la Fondation des Femmes en est la preuve. Vous pouvez compter sur elle en toute confiance !`,
    name: 'Diariata N\'Diaye',
    job: 'Pr√©sidente "R√©sonantes" - Concours √âloquence Remport√©',
    image: 'diariata_ndiaye.jpg'
  },
  sarah: {
    full: `J'ai travaill√© avec Laure sur "comment bien d√©livrer mon message" dans le cadre d'une interview t√©l√©. Le d√©fi √©tait d'avoir le plus d'impact possible en trois minutes, un temps r√©duit pour tout ce que j'avais √† dire. Elle m'a challeng√©e, aussi bien sur le fond que sur la forme, avec beaucoup de cr√©ativit√© et de professionnalisme. Le r√©sultat a √©t√© un grand succ√®s et j'ai h√¢te de retravailler avec elle.`,
    name: 'Sarah Ohayon',
    job: 'Partner JAB - Interview T√©l√© R√©ussie',
    image: 'sarah_ohayon.jpg'
  },
  eric: {
    full: `Riche de ses multiples vies, Laure apporte toujours beaucoup plus que ce qui √©tait pr√©vu, √† ceux et celles qu'elle accompagne. Cette exp√©rience/expertise, boost√©e par un engagement et une bienveillance absolue, font d'elle une coach formidable.`,
    name: 'Eric Salomon',
    job: 'Fondateur et Pr√©sident Time to Pitch',
    image: 'eric_salomon.png'
  },
  laetitia: {
    full: `Mon exp√©rience avec Laure a √©t√© excellente ! Je l'ai contact√©e pour pr√©parer mon passage devant un jury (soutenance pour l'obtention d'un Master 2). Dans un temps limit√©, mon objectif √©tait de mettre en avant mon travail et surtout mon identit√© professionnelle et de valider mes acquis. Je ne parvenais pas √† rendre fluide ma pr√©sentation d'un dossier que je ma√Ætrisais pourtant parfaitement. Le stress et l'anxi√©t√© √† l'id√©e de prendre la parole devant un jury m'emp√™chaient de me pr√©parer correctement. Avec m√©thodologie, sinc√©rit√©, beaucoup d'humour et une grande g√©n√©rosit√©, Laure m'a donn√© les outils qui m'ont permis de me recentrer sur l'essentiel, structurer ma prise de parole et lui donner un rythme. J'ai su embarquer mon auditoire jusqu'au bout sans les perdre et sans me perdre ! Est ce que je vous recommande cette coach ? Oui, c'est s√ªr !`,
    name: 'Laetitia Mabed',
    job: 'Directrice Comptable - Master 2 Valid√©',
    image: 'laetitia_mabed.png'
  },
  sylvie: {
    full: `Je suis cr√©atrice de bijoux, j'ai contact√© Laure apr√®s une conf√©rence qu'elle donnait pour ¬´ Potentiel de Femmes ¬ª. Je voulais clarifier mon storytelling et refaire mon site internet. Nous avons largement atteint cet objectif. Une s√©ance riche d'enseignements : Une vision sur ce que je veux faire, des objectifs clairs. Je recommande c'est s√ªr !`,
    name: 'Sylvie Uzan',
    job: 'Cr√©atrice Bijoux "Atelier JAGG"',
    image: 'sylvie_uzan.png'
  },
  arnaud: {
    full: `Laure excelle dans le coaching gr√¢ce √† un dynamisme incroyable et une capacit√© d'adaptation hors-pair. Nous travaillons avec elle depuis plusieurs ann√©es et elle continue de nous surprendre par son style unique, associ√© √† un professionnalisme √† toute √©preuve!`,
    name: 'Arnaud Varnier',
    job: 'Fondateur et Pr√©sident WINDOO',
    image: 'arnaud_varnier.png'
  },
  flora: {
    full: `Laure a compris une cl√© essentielle en coaching : comprendre son interlocuteur et l'aider √† faire ressortir le meilleur de sa personnalit√©. Sans jamais travestir, elle permet de s'√©manciper et d'adopter une libert√© de parole impactante et percutante. Elle donne du sens et de l'impact au discours. Elle m'a accompagn√© √† toutes les √©tapes importantes : lancement de mon entreprise, sortie de mon livre, pour me permettre de prendre du recul sur mes projets, pour mieux les pr√©senter et convaincre !`,
    name: 'Flora Ghebali',
    job: 'Fondatrice Coalitions',
    image: 'flora_ghebali.jpg'
  },
  hela: {
    full: `Il y a un avant et un apr√®s ma rencontre et mon travail avec Laure. Pr√©cise, sensible et hyper pro, Laure m'a partag√© des outils et une m√©thode, en lien avec mes besoins, qui ont radicalement et structurellement modifi√© ma mani√®re d'appr√©hender la prise de parole en public, mais pas que !! Laure est une femme fabuleuse.`,
    name: 'Hela Daboussi',
    job: 'Cadre du Secteur Public',
    image: 'hela_daboussi.jpg'
  },
  mickael_z: {
    full: `Je suis quelqu'un d'assez angoiss√©, souvent paralys√©, ce qui m'a beaucoup emp√™ch√© de m'engager dans des directions ou m√™me de simplement l√¢cher prise. J'ai r√©alis√© avec Laure un travail en profondeur o√π elle a su identifier avec justesse les verrous qui me bloquaient. Elle m'a activement soutenu dans les moments difficiles et m'a aid√©, petit √† petit, √† d√©passer certaines peurs et √† les comprendre. Aujourd'hui la vie me semble largement plus simple. Un travail bien fait, √† deux !`,
    name: 'Micka√´l Zaluski',
    job: 'R√©alisateur - Producteur - Dentiste',
    image: 'mickael_zaluski.jpg'
  },
  diane: {
    full: `Laure a √©t√© v√©ritablement mon √©coute et surtout sinc√®rement investie dans mon d√©veloppement personnel, prenant des nouvelles de mon √©volution r√©guli√®rement. Elle sait avoir les mots justes pour nous encourager et nous faire avancer sur tous les tableaux. Nos quelques s√©ances m'ont fait beaucoup √©voluer. Elle est d'une grande intelligence et tr√®s exp√©riment√©e, elle cerne le c≈ìur du probl√®me tr√®s vite et on fait des pas de g√©ants. Elle a particip√© √† me redonner confiance en ma singularit√©, √† impulser le courage n√©cessaire pour m'investir dans un travail ¬´ hors des sentiers battus ¬ª dans lequel je m'√©panouis totalement aujourd'hui. Merci √† elle ! C'est une vraie chance de l'avoir crois√©e...`,
    name: 'Diane Bismuth',
    job: 'Journaliste Gastronomique',
    image: 'diane_bismuth.jpg'
  },
  helene: {
    full: `J'ai le plaisir de travailler avec Laure depuis plus d'un an dans le cadre des formations qu'elle anime pour TIME TO PITCH au sein de Sciences Po Executive Education : Pitch et √©loquence. Laure est une professionnelle rigoureuse, enthousiaste, engag√©e et tr√®s √† l'√©coute des apprenants. Que ce soit en pr√©sentiel ou √† distance, la satisfaction est toujours au top ! Merci Laure.`,
    name: 'H√©l√®ne Tinlot-Benichou',
    job: 'Responsable Communication Sciences Po Executive Education',
    image: 'helene_tinlot_benichou.jpg'
  },
  clemence: {
    full: `J'ai eu la chance de d√©couvrir qu'il existait une solution √† mes angoisses‚Ä¶ il n'a fallu que quelques s√©ances avec Laure pour qu'elle m'offre l'espace de m'exprimer et de lui expliquer mes failles d'√©locution. Je parle vite, je suis timide, j'ai peur de ne pas √™tre pertinente‚Ä¶ Elle a su me mettre en confiance et m'aider √† assumer mes points de vue, pour la pr√©sentation d'une fondation que je devais exposer √† une assembl√©e de plus de 150 personnes. Nous avons analys√© ensemble mon projet, mon audience et le ton √† prendre pour capter leur attention face au sujet qui me tient le plus √† c≈ìur, celui du r√©chauffement climatique ! J'√©tais tout de m√™me stress√©e le jour de ma pr√©sentation, mais j'ai appris que le stress peut √™tre g√©r√© et devenir un atout dans une pr√©paration √† un tel √©v√©nement personnel :) Projet r√©ussi ! Gr√¢ce au discours minutieusement pr√©par√© j'ai pu faire passer mon message et l'assembl√©e a adh√©r√© au projet. Merci encore √† Laure pour ses conseils.`,
    name: 'Cl√©mence M.',
    job: 'Fondatrice Association Environnementale',
    image: 'clemence_m.jpg'
  }
};

// Convertir testimonialData en array avec cat√©gories et structure pour TestimonialCard
const testimonialArray = Object.entries(testimonialData).map(([id, data]) => ({
  id,
  name: data.name,
  role: data.job,
  category: getTestimonialCategory(data.job, data.name),
  image: data.image,
  testimonial: data.full,
  result: data.job.includes(' - ') ? data.job.split(' - ')[1] : undefined,
}));

const testimonialsByCategory = {
  academique: testimonialArray.filter(t => t.category === 'academique'),
  professionnel: testimonialArray.filter(t => t.category === 'professionnel'),
  entrepreneur: testimonialArray.filter(t => t.category === 'entrepreneur'),
  eloquence: testimonialArray.filter(t => t.category === 'eloquence'),
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'R√©server ma s√©ance gratuite',
        href: '/contact',
        icon: 'tabler:calendar',
      },
      { 
        text: 'Voir toutes les r√©ussites', 
        href: '#temoignages-complets',
        icon: 'tabler:arrow-down',
      },
    ]}
    image={{ 
      src: '/images/temoignages/jesse_levy.jpg', 
      alt: 'Jesse Levy - T√©moignage client Laure Cohen' 
    }}
  >
    <Fragment slot="title">
      <span class="text-accent">+200 transformations</span> authentiques avec <span class="text-primary">photos r√©elles</span>
    </Fragment>

    <Fragment slot="subtitle">
      <span class="font-semibold text-lg">D√©couvrez les vraies histoires de nos clients</span>
      <br class="hidden sm:block" />
      <span class="block mt-2 text-muted">
        √âtudiants, professionnels, entrepreneurs : ils ont tous transform√© leur peur en force
      </span>
    </Fragment>
  </Hero>

  <!-- Stats Widget ****************** -->

  <Stats
    title="Impact r√©el, r√©sultats mesurables"
    subtitle="Des chiffres qui parlent d'eux-m√™mes"
    stats={[
      { title: 'Clients transform√©s', amount: '200+' },
      { title: 'R√©ussite aux oraux', amount: '100%' },
      { title: 'Satisfaction client', amount: '98%' },
      { title: 'Ann√©es d\'exp√©rience', amount: '8' },
    ]}
  />

  <!-- Testimonials Widget - R√©ussites Acad√©miques *************** -->

  <Testimonials
    id="temoignages-academiques"
    title="üéì R√©ussites Acad√©miques"
    subtitle="√âtudiants : de la peur √† l'excellence - Soutenances, concours, oraux r√©ussis avec brio"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.tabatha.full),
        fullTestimonial: testimonialData.tabatha.full,
        name: testimonialData.tabatha.name,
        job: testimonialData.tabatha.job,
        image: {
          src: `/images/temoignages/${testimonialData.tabatha.image}`,
          alt: 'Tabatha Deray - Mention tr√®s bien'
        },
      },
      {
        testimonial: truncateText(testimonialData.clara.full),
        fullTestimonial: testimonialData.clara.full,
        name: testimonialData.clara.name,
        job: testimonialData.clara.job,
        image: {
          src: `/images/temoignages/${testimonialData.clara.image}`,
          alt: 'Clara Touboul - Admise HEC'
        },
      },
      {
        testimonial: truncateText(testimonialData.emilie.full),
        fullTestimonial: testimonialData.emilie.full,
        name: testimonialData.emilie.name,
        job: testimonialData.emilie.job,
        image: {
          src: `/images/temoignages/${testimonialData.emilie.image}`,
          alt: '√âmilie Fajnman - Coaching √©tudiant'
        },
      },
      {
        testimonial: truncateText(testimonialData.laetitia.full),
        fullTestimonial: testimonialData.laetitia.full,
        name: testimonialData.laetitia.name,
        job: testimonialData.laetitia.job,
        image: {
          src: `/images/temoignages/${testimonialData.laetitia.image}`,
          alt: 'Laetitia Mabed - Master 2'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Succ√®s Professionnels *************** -->

  <Testimonials
    id="temoignages-professionnels"
    title="üíº Succ√®s Professionnels"
    subtitle="Managers, dirigeants, collaborateurs : ils ont d√©velopp√© leur leadership et impact"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.jesse.full),
        fullTestimonial: testimonialData.jesse.full,
        name: testimonialData.jesse.name,
        job: testimonialData.jesse.job,
        image: {
          src: `/images/temoignages/${testimonialData.jesse.image}`,
          alt: 'Jesse Levy - Com√©dienne'
        },
      },
      {
        testimonial: truncateText(testimonialData.philippe.full),
        fullTestimonial: testimonialData.philippe.full,
        name: testimonialData.philippe.name,
        job: testimonialData.philippe.job,
        image: {
          src: `/images/temoignages/${testimonialData.philippe.image}`,
          alt: 'Philippe Jeanneau - Dirigeant'
        },
      },
      {
        testimonial: truncateText(testimonialData.justine.full),
        fullTestimonial: testimonialData.justine.full,
        name: testimonialData.justine.name,
        job: testimonialData.justine.job,
        image: {
          src: `/images/temoignages/${testimonialData.justine.image}`,
          alt: 'Justine Fra√Øoli - Confiance retrouv√©e'
        },
      },
      {
        testimonial: truncateText(testimonialData.sarah.full),
        fullTestimonial: testimonialData.sarah.full,
        name: testimonialData.sarah.name,
        job: testimonialData.sarah.job,
        image: {
          src: `/images/temoignages/${testimonialData.sarah.image}`,
          alt: 'Sarah Ohayon - Interview t√©l√©'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Entrepreneurs *************** -->

  <Testimonials
    id="temoignages-entrepreneurs"
    title="üöÄ Entrepreneurs : Pitch et Conviction"
    subtitle="Startups, scale-ups : ils ont convaincu investisseurs et clients avec leurs lev√©es de fonds"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.mickael.full),
        fullTestimonial: testimonialData.mickael.full,
        name: testimonialData.mickael.name,
        job: testimonialData.mickael.job,
        image: {
          src: `/images/temoignages/${testimonialData.mickael.image}`,
          alt: 'Micka√´l Kissous - Lev√©e de fonds KIDIWE'
        },
      },
      {
        testimonial: truncateText(testimonialData.clement.full),
        fullTestimonial: testimonialData.clement.full,
        name: testimonialData.clement.name,
        job: testimonialData.clement.job,
        image: {
          src: `/images/temoignages/${testimonialData.clement.image}`,
          alt: 'Cl√©ment Sornin - Pitch Harmony'
        },
      },
      {
        testimonial: truncateText(testimonialData.alexi.full),
        fullTestimonial: testimonialData.alexi.full,
        name: testimonialData.alexi.name,
        job: testimonialData.alexi.job,
        image: {
          src: `/images/temoignages/${testimonialData.alexi.image}`,
          alt: 'Alexi Perrino - Pitch entrepreneur'
        },
      },
      {
        testimonial: truncateText(testimonialData.flora.full),
        fullTestimonial: testimonialData.flora.full,
        name: testimonialData.flora.name,
        job: testimonialData.flora.job,
        image: {
          src: `/images/temoignages/${testimonialData.flora.image}`,
          alt: 'Flora Ghebali - Fondatrice'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Concours et √âloquence *************** -->

  <Testimonials
    id="temoignages-eloquence"
    title="üèÜ Concours et √âloquence"
    subtitle="Ils ont remport√© des concours et d√©velopp√© leur √©loquence avec brio"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.diariata.full),
        fullTestimonial: testimonialData.diariata.full,
        name: testimonialData.diariata.name,
        job: testimonialData.diariata.job,
        image: {
          src: `/images/temoignages/${testimonialData.diariata.image}`,
          alt: 'Diariata N\'Diaye - Concours √©loquence'
        },
      },
      {
        testimonial: truncateText(testimonialData.eric.full),
        fullTestimonial: testimonialData.eric.full,
        name: testimonialData.eric.name,
        job: testimonialData.eric.job,
        image: {
          src: `/images/temoignages/${testimonialData.eric.image}`,
          alt: 'Eric Salomon - CEO'
        },
      },
      {
        testimonial: truncateText(testimonialData.helene.full),
        fullTestimonial: testimonialData.helene.full,
        name: testimonialData.helene.name,
        job: testimonialData.helene.job,
        image: {
          src: `/images/temoignages/${testimonialData.helene.image}`,
          alt: 'H√©l√®ne Tinlot-Benichou - Sciences Po'
        },
      },
      {
        testimonial: truncateText(testimonialData.clemence.full),
        fullTestimonial: testimonialData.clemence.full,
        name: testimonialData.clemence.name,
        job: testimonialData.clemence.job,
        image: {
          src: `/images/temoignages/${testimonialData.clemence.image}`,
          alt: 'Cl√©mence M. - Fondatrice'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - Parcours Inspirants *************** -->

  <Testimonials
    id="autres-temoignages"
    title="üåü Parcours Inspirants"
    subtitle="Artistes, managers, reconversions : chaque histoire est unique et transformatrice"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.sylvie.full),
        fullTestimonial: testimonialData.sylvie.full,
        name: testimonialData.sylvie.name,
        job: testimonialData.sylvie.job,
        image: {
          src: `/images/temoignages/${testimonialData.sylvie.image}`,
          alt: 'Sylvie Uzan - Reconversion'
        },
      },
      {
        testimonial: truncateText(testimonialData.arnaud.full),
        fullTestimonial: testimonialData.arnaud.full,
        name: testimonialData.arnaud.name,
        job: testimonialData.arnaud.job,
        image: {
          src: `/images/temoignages/${testimonialData.arnaud.image}`,
          alt: 'Arnaud Varnier - Fondateur'
        },
      },
      {
        testimonial: truncateText(testimonialData.diane.full),
        fullTestimonial: testimonialData.diane.full,
        name: testimonialData.diane.name,
        job: testimonialData.diane.job,
        image: {
          src: `/images/temoignages/${testimonialData.diane.image}`,
          alt: 'Diane Bismuth - Journaliste'
        },
      },
      {
        testimonial: truncateText(testimonialData.mickael_z.full),
        fullTestimonial: testimonialData.mickael_z.full,
        name: testimonialData.mickael_z.name,
        job: testimonialData.mickael_z.job,
        image: {
          src: `/images/temoignages/${testimonialData.mickael_z.image}`,
          alt: 'Micka√´l Zaluski - R√©alisateur'
        },
      },
    ]}
  />

  <!-- Testimonials Widget - D√©veloppement Personnel *************** -->

  <Testimonials
    id="temoignages-personnel"
    title="üí´ D√©veloppement Personnel"
    subtitle="Ils ont surmont√© leurs blocages et retrouv√© confiance en eux"
    testimonials={[
      {
        testimonial: truncateText(testimonialData.hela.full),
        fullTestimonial: testimonialData.hela.full,
        name: testimonialData.hela.name,
        job: testimonialData.hela.job,
        image: {
          src: `/images/temoignages/${testimonialData.hela.image}`,
          alt: 'Hela Daboussi - Transformation'
        },
      },
    ]}
  />

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Rejoindre ces success stories',
        href: '/contact',
        icon: 'tabler:star',
      },
      {
        text: 'D√©couvrir la m√©thode',
        href: '/demo',
        icon: 'tabler:circle',
      },
    ]}
  >
    <Fragment slot="title">
      Pr√™t √† <span class="text-accent">transformer</span> votre peur en <span class="text-primary">force</span> ?
    </Fragment>

    <Fragment slot="subtitle">
      Rejoignez les +200 clients qui ont d√©j√† transform√© leur prise de parole.
      <br class="hidden md:inline" />
      Votre s√©ance d√©couverte gratuite vous attend.
    </Fragment>
  </CallToAction>

  <!-- T√©moignages par Cat√©gorie avec Tabs -->
  <section class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          T√©moignages par Domaine
        </h2>
        <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
          Cliquez sur chaque t√©moignage pour d√©couvrir l'histoire compl√®te de transformation
        </p>
      </div>

      <!-- Tabs Navigation -->
      <div class="flex flex-wrap justify-center mb-8 border-b border-gray-200 dark:border-gray-700">
        <button class="tab-button active px-6 py-3 font-medium text-blue-600 border-b-2 border-blue-600" data-tab="academique">
          üéì R√©ussites Acad√©miques
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="professionnel">
          üíº Succ√®s Professionnels
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="entrepreneur">
          üöÄ Entrepreneurs
        </button>
        <button class="tab-button px-6 py-3 font-medium text-gray-500 hover:text-blue-600 border-b-2 border-transparent" data-tab="eloquence">
          üé§ √âloquence
        </button>
      </div>

      <!-- Tab Content -->
      <div id="academique" class="tab-content active">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.academique.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="professionnel" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.professionnel.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="entrepreneur" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.entrepreneur.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>

      <div id="eloquence" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {testimonialsByCategory.eloquence.map((testimonial) => (
            <TestimonialCard testimonial={testimonial} />
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Modal pour afficher le t√©moignage complet -->
  <Modal id="testimonial">
    <div class="flex flex-col md:flex-row gap-6">
      <!-- Photo du client en grand -->
      <div class="md:w-1/3">
        <div class="relative w-full aspect-square rounded-lg overflow-hidden">
          <img
            id="testimonial-modal-image"
            src=""
            alt=""
            class="w-full h-full object-cover"
          />
        </div>
        <div class="mt-4 text-center">
          <h4 id="testimonial-modal-name" class="text-xl font-semibold text-gray-900 dark:text-white"></h4>
          <p id="testimonial-modal-role" class="text-gray-600 dark:text-gray-400"></p>
          <p id="testimonial-modal-result" class="text-blue-600 dark:text-blue-400 font-medium mt-1"></p>
          <p id="testimonial-modal-location" class="text-sm text-gray-500 dark:text-gray-500 mt-1"></p>
          <p id="testimonial-modal-date" class="text-sm text-gray-500 dark:text-gray-500"></p>
        </div>
      </div>
      
      <!-- T√©moignage complet -->
      <div class="md:w-2/3">
        <blockquote id="testimonial-modal-testimonial" class="text-lg text-gray-700 dark:text-gray-300 italic leading-relaxed">
          <!-- Le t√©moignage complet sera ins√©r√© ici -->
        </blockquote>
      </div>
    </div>
  </Modal>
</Layout>

<script>
  // Gestion des tabs
  document.addEventListener('DOMContentLoaded', () => {
    // === GESTION DES TABS ===
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetTab = button.getAttribute('data-tab');
        if (!targetTab) return;
        
        // D√©sactiver tous les tabs
        tabButtons.forEach(btn => {
          btn.classList.remove('active', 'text-blue-600', 'border-blue-600');
          btn.classList.add('text-gray-500', 'border-transparent');
        });
        
        tabContents.forEach(content => {
          content.classList.add('hidden');
          content.classList.remove('active');
        });
        
        // Activer le tab s√©lectionn√©
        button.classList.add('active', 'text-blue-600', 'border-blue-600');
        button.classList.remove('text-gray-500', 'border-transparent');
        
        const targetContent = document.getElementById(targetTab);
        if (targetContent) {
          targetContent.classList.remove('hidden');
          targetContent.classList.add('active');
        }
      });
    });
    
    // === GESTION DES CLICS SUR CARTES ET BOUTONS ===
    function setupModalTriggers() {
      // Fonction pour ouvrir la modal avec des donn√©es
      function openModalWithData(data: any) {
        // Mettre √† jour le contenu de la modal
        const modalTitle = document.getElementById('testimonial-title');
        const modalImage = document.getElementById('testimonial-modal-image') as HTMLImageElement;
        const modalName = document.getElementById('testimonial-modal-name');
        const modalRole = document.getElementById('testimonial-modal-role');
        const modalResult = document.getElementById('testimonial-modal-result');
        const modalTestimonial = document.getElementById('testimonial-modal-testimonial');

        if (modalTitle) modalTitle.textContent = `T√©moignage de ${data.name}`;
        if (modalImage && data.image) {
          modalImage.src = `/images/temoignages/${data.image}`;
          modalImage.alt = `Photo de ${data.name}`;
        }
        if (modalName) modalName.textContent = data.name || '';
        if (modalRole) modalRole.textContent = data.role || '';
        if (modalResult) {
          if (data.result) {
            modalResult.textContent = data.result;
            modalResult.style.display = 'block';
          } else {
            modalResult.style.display = 'none';
          }
        }
        if (modalTestimonial) modalTestimonial.textContent = `"${data.testimonial}"`;

        // Ouvrir la modal
        if ((window as any).openTestimonialModal) {
          (window as any).openTestimonialModal();
        }
      }
      
      // 1. G√©rer les cartes testimonial-card (widgets du haut)
      const testimonialCards = document.querySelectorAll('.testimonial-card');
      
      testimonialCards.forEach((card, index) => {
        const clickHandler = (e: Event) => {
          e.preventDefault();
          
          const data = {
            id: card.getAttribute('data-testimonial-id'),
            name: card.getAttribute('data-testimonial-name'),
            role: card.getAttribute('data-testimonial-role'),
            result: card.getAttribute('data-testimonial-result'),
            image: card.getAttribute('data-testimonial-image'),
            testimonial: card.getAttribute('data-testimonial-text')
          };
          
          openModalWithData(data);
        };
        
        // Supprimer l'ancien handler s'il existe
        if ((card as any)._clickHandler) {
          card.removeEventListener('click', (card as any)._clickHandler);
        }
        
        // Ajouter le nouveau handler
        (card as any)._clickHandler = clickHandler;
        card.addEventListener('click', clickHandler);
      });
      
      // 2. G√©rer les boutons testimonial-btn (TestimonialCard du bas)
      const testimonialButtons = document.querySelectorAll('.testimonial-btn');
      
      testimonialButtons.forEach((button, index) => {
        const clickHandler = (e: Event) => {
          e.preventDefault();
          
          const data = {
            id: button.getAttribute('data-testimonial-id'),
            name: button.getAttribute('data-testimonial-name'),
            role: button.getAttribute('data-testimonial-role'),
            result: button.getAttribute('data-testimonial-result'),
            image: button.getAttribute('data-testimonial-image'),
            testimonial: button.getAttribute('data-testimonial-text')
          };
          
          openModalWithData(data);
        };
        
        // Supprimer l'ancien handler s'il existe
        if ((button as any)._clickHandler) {
          button.removeEventListener('click', (button as any)._clickHandler);
        }
        
        // Ajouter le nouveau handler
        (button as any)._clickHandler = clickHandler;
        button.addEventListener('click', clickHandler);
      });
    }
    
    // Configuration initiale
    setupModalTriggers();
    
    // Reconfigurer apr√®s changement de tab (pour les nouveaux √©l√©ments)
    const observer = new MutationObserver(() => {
      setupModalTriggers();
    });
    
    observer.observe(document.body, {
      childList: true,
      subtree: true
    });
  });
</script>

<style>
  .tab-button {
    transition: all 0.3s ease;
  }
  
  .tab-content {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style> 